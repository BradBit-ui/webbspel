<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRAD BIT - DRIVE IN GAME</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        /* ... övrig CSS kod ... */
    </style>
</head>

<body>
    <canvas id="gameCanvas"></canvas>
    <audio id="backgroundMusic" src="Byggmax_bound.mp3"></audio>
    <audio id="letsGoSound" src="Lets go.mp3"></audio>
    <audio id="bmLogoSound" src="BM_Logo_3.6.1_Vocals.wav"></audio>

    <div id="startScreen">
        <!-- ... startskärm markup ... -->
    </div>

    <div id="gameOverScreen">
        <h1>GAME OVER</h1>
        <button id="playAgainButton">PLAY AGAIN</button>
    </div>

    <!-- ... övriga UI element ... -->

    <div id="highScoreInput">
        <h2>Skriv in ditt namn för High Score</h2>
        <input type="text" id="playerName" placeholder="Ditt namn">
        <button id="submitScoreButton">Spara och spela igen</button>
    </div>

    <div id="highScores">
        <h2>High Score</h2>
        <ul id="highScoreList"></ul>
    </div>

    <!-- ... övrig HTML kod ... -->

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // ... övrig JavaScript kod ...

            function gameOver() {
                gameOverFlag = true;
                cancelAnimationFrame(update);
                currentMusic.pause();
                showHighScoreInput();
            }

            function showHighScoreInput() {
                highScoreInput.style.display = 'block';
            }

            submitScoreButton.addEventListener('click', () => {
                playerName = document.getElementById('playerName').value;
                if (playerName.trim() !== '') {
                    highscores.push({ name: playerName, score: elapsedTime });
                    highscores.sort((a, b) => b.score - a.score);
                    highscores = highscores.slice(0, 5);
                    localStorage.setItem('highscores', JSON.stringify(highscores));
                    showHighScoreList();
                    resetGame();
                }
            });

            function showHighScoreList() {
                highScoreList.innerHTML = '';
                highscores.forEach((score, index) => {
                    const li = document.createElement('li');
                    li.textContent = `${index + 1}. ${score.name} - ${score.score} sek`;
                    highScoreList.appendChild(li);
                });
                highScores.style.display = 'block';
            }

            function resetGame() {
                // ... övrig resetgame-kod ...
                gameOverScreen.style.display = 'none';
                highScoreInput.style.display = 'none';
                highScores.style.display = 'none';
            }

            // ... övrig JavaScript kod ...
        });
    </script>
</body>
</html>
