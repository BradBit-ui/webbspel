<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRAD BIT - DRIVE IN GAME</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        /* ... övrig CSS kod ... */

        #highScoreInput {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            font-family: 'Courier New', Courier, monospace;
            color: black;
        }

        #highScoreInput input {
            padding: 10px;
            font-size: 18px;
            font-family: 'Press Start 2P', cursive;
        }

        #highScoreInput button {
            padding: 10px 20px;
            font-size: 18px;
            margin-top: 20px;
            font-family: 'Press Start 2P', cursive;
        }

        #highScores {
            display: none;
            position: absolute;
            top: 60px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            padding: 10px;
            color: black;
            text-align: center;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
        }

        #highScores h2 {
            margin-bottom: 20px;
        }

        #highScores ul {
            list-style-type: none;
            padding: 0;
        }

        #highScores li {
            font-size: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <canvas id="gameCanvas"></canvas>
    <audio id="backgroundMusic" src="Byggmax_bound.mp3"></audio>
    <audio id="letsGoSound" src="Lets go.mp3"></audio>
    <audio id="bmLogoSound" src="BM_Logo_3.6.1_Vocals.wav"></audio>

    <div id="startScreen">
        <!-- ... startskärm markup ... -->
    </div>

    <div id="gameOverScreen">
        <h1>GAME OVER</h1>
        <button id="playAgainButton">PLAY AGAIN</button>
    </div>

    <!-- ... övriga UI element ... -->

    <div id="highScoreInput">
        <h2>Skriv in ditt namn för High Score</h2>
        <input type="text" id="playerName" placeholder="Ditt namn">
        <button id="submitScoreButton">Spara och spela igen</button>
    </div>

    <div id="highScores">
        <h2>High Score</h2>
        <ul id="highScoreList"></ul>
    </div>

    <!-- ... övrig HTML kod ... -->

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let currentMusic = new Audio('Byggmax_bound.mp3');
            currentMusic.loop = true;
            currentMusic.play();

            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const startScreen = document.getElementById('startScreen');
            const gameOverScreen = document.getElementById('gameOverScreen');
            const startButton = document.getElementById('startButton');
            const playAgainButton = document.getElementById('playAgainButton');
            const muteButton = document.getElementById('muteButton');
            const letsGoSound = document.getElementById('letsGoSound');
            const bmLogoSound = document.getElementById('bmLogoSound');
            const bradBit = document.getElementById('bradBit');
            const bmLivesContainer = document.getElementById('bmLives');
            const timerDisplay = document.getElementById('timer');
            const highScoreInput = document.getElementById('highScoreInput');
            const highScoreList = document.getElementById('highScoreList');
            const submitScoreButton = document.getElementById('submitScoreButton');
            const feedback = document.getElementById('feedback');
            let isMuted = false;
            let highscores = JSON.parse(localStorage.getItem('highscores')) || [];
            let playerName = '';
            let gameStarted = false;
            let timeWithoutLosingLife = 0;
            let niceShown = false;

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // ... övrig spellogik ...

            function gameOver() {
                gameOverFlag = true;
                cancelAnimationFrame(update);
                currentMusic.pause();
                showHighScoreInput();
            }

            function showHighScoreInput() {
                highScoreInput.style.display = 'block';
            }

            submitScoreButton.addEventListener('click', () => {
                playerName = document.getElementById('playerName').value;
                if (playerName.trim() !== '') {
                    highscores.push({ name: playerName, score: elapsedTime });
                    highscores.sort((a, b) => b.score - a.score);
                    highscores = highscores.slice(0, 5);
                    localStorage.setItem('highscores', JSON.stringify(highscores));
                    showHighScoreList();
                    resetGame();
                }
            });

            function showHighScoreList() {
                highScoreList.innerHTML = '';
                highscores.forEach((score, index) => {
                    const li = document.createElement('li');
                    li.textContent = `${index + 1}. ${score.name} - ${score.score} sek`;
                    highScoreList.appendChild(li);
                });
                highScores.style.display = 'block';
            }

            function resetGame() {
                // ... övrig resetgame-kod ...
                gameOverScreen.style.display = 'none';
                highScoreInput.style.display = 'none';
                highScores.style.display = 'none';
            }

            // ... övrig JavaScript kod ...
        });
    </script>
</body>
</html>
